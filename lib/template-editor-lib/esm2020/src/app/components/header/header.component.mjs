import { Component, EventEmitter, Input, Output } from "@angular/core";
import { editableObjectToDocx } from "../../../utils/docxParsers/editableObjectsToDocx";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class HeaderComponent {
    constructor() {
        this.fileChange = new EventEmitter();
        this.docxFileChanged = new EventEmitter();
    }
    onFileChangeHandler(e) {
        const event = e;
        this.fileChange.emit(event);
    }
    save() {
        if (!this.docxFile.content) {
            return;
        }
        editableObjectToDocx({
            modifiedObjects: this.history[this.workspace.historyIndex].editablePhrases,
            fileIn: this.docxFile.content,
        }).then((newDocx) => {
            this.docxFileChanged.emit({
                name: this.docxFile.name,
                content: newDocx,
                lastModifiedDate: new Date().getTime(),
            });
        });
    }
    saveToComputer() {
        if (!this.docxFile.content) {
            return;
        }
        editableObjectToDocx({
            modifiedObjects: this.history[this.workspace.historyIndex].editablePhrases,
            fileIn: this.docxFile.content,
        }).then((newDocx) => {
            const url = URL.createObjectURL(newDocx);
            const link = document.createElement("a");
            link.href = url;
            link.download = this.docxFile.name;
            link.click();
            link.remove();
            URL.revokeObjectURL(url);
            // docxToString(newDocx).then((string) => {
            //   console.log(string);
            // });
        });
    }
    fileDropDownToggle() {
        this.workspace.fileDropDown = true;
        let clickCount = 0;
        const quitDropDown = (e) => {
            clickCount++;
            if (clickCount > 1) {
                this.workspace.fileDropDown = false;
                window.onclick = null;
            }
        };
        window.onclick = quitDropDown;
    }
}
HeaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: HeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
HeaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.0.3", type: HeaderComponent, selector: "app-header[history][docxFile][uploadFileInput][editablePhrases]", inputs: { workspace: "workspace", docxFile: "docxFile", history: "history", uploadFileInput: "uploadFileInput", editablePhrases: "editablePhrases" }, outputs: { fileChange: "fileChange", docxFileChanged: "docxFileChanged" }, ngImport: i0, template: "<div class=\"header\">\r\n  <input\r\n    #uploadFileInput\r\n    (change)=\"onFileChangeHandler($event)\"\r\n    class=\"invisible\"\r\n    type=\"file\"\r\n    id=\"template\"\r\n    name=\"template\"\r\n    accept=\".docx\"\r\n  />\r\n  <div *ngIf=\"workspace.fileDropDown\" class=\"header__element__dropdown\">\r\n    <p\r\n      class=\"header__element__dropdown__item\"\r\n      [class.header__element__dropdown__item--inactive]=\"!docxFile.content\"\r\n      (click)=\"save()\"\r\n    >\r\n      Guardar\r\n    </p>\r\n    <p\r\n      class=\"header__element__dropdown__item\"\r\n      [class.header__element__dropdown__item--inactive]=\"!docxFile.content\"\r\n      (click)=\"saveToComputer()\"\r\n    >\r\n      Guardar a computadora\r\n    </p>\r\n    <p\r\n      class=\"header__element__dropdown__item\"\r\n      (click)=\"uploadFileInput.click()\"\r\n    >\r\n      Abrir template\r\n    </p>\r\n  </div>\r\n  <div\r\n    class=\"header__element header__element--file\"\r\n    (click)=\"fileDropDownToggle()\"\r\n  >\r\n    <label>Archivo</label>\r\n  </div>\r\n  <div class=\"header__element header__element--title\">\r\n    {{docxFile.name}}\r\n  </div>\r\n  <div class=\"header__element\" *ngIf=\"docxFile.lastModifiedDate\">\r\n    <!-- date with hour -->\r\n    \u00DAltima modificaci\u00F3n: {{docxFile.lastModifiedDate | date: 'dd/MM/yyyy HH:mm'}}\r\n  </div>\r\n</div>\r\n", styles: [".invisible{visibility:hidden;display:none}.header{top:0px!important;height:var(--header-height);width:100%;box-shadow:0 2px 4px #0003;z-index:10000;background-color:var(--elements-color);display:flex;flex-direction:row;position:relative}.header__element{border-right:1px solid #888;border-top:1px solid #888;padding:10px;display:flex;justify-content:center;align-items:center}.header__element:hover{background-color:#f0f0f0}.header__element--file{-webkit-user-select:none;user-select:none;width:150px}.header__element--title{flex-grow:1}.header__element__dropdown{position:absolute;display:flex;flex-direction:column;width:200px;background-color:#fff;margin-top:var(--header-height);z-index:10001;border:1px solid #888}.header__element__dropdown__item{margin:0;padding:10px;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer}.header__element__dropdown__item:hover{background-color:#f0f0f0}.header__element__dropdown__item--inactive{color:#0005}.header__element__dropdown__item--inactive{background-color:#fff!important;cursor:default}\n", "*{box-sizing:border-box!important}.invisible{visibility:hidden;display:none}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#8888}::-webkit-scrollbar-thumb:hover{background:#555}\n"], directives: [{ type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], pipes: { "date": i1.DatePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: HeaderComponent, decorators: [{
            type: Component,
            args: [{ selector: "app-header[history][docxFile][uploadFileInput][editablePhrases]", template: "<div class=\"header\">\r\n  <input\r\n    #uploadFileInput\r\n    (change)=\"onFileChangeHandler($event)\"\r\n    class=\"invisible\"\r\n    type=\"file\"\r\n    id=\"template\"\r\n    name=\"template\"\r\n    accept=\".docx\"\r\n  />\r\n  <div *ngIf=\"workspace.fileDropDown\" class=\"header__element__dropdown\">\r\n    <p\r\n      class=\"header__element__dropdown__item\"\r\n      [class.header__element__dropdown__item--inactive]=\"!docxFile.content\"\r\n      (click)=\"save()\"\r\n    >\r\n      Guardar\r\n    </p>\r\n    <p\r\n      class=\"header__element__dropdown__item\"\r\n      [class.header__element__dropdown__item--inactive]=\"!docxFile.content\"\r\n      (click)=\"saveToComputer()\"\r\n    >\r\n      Guardar a computadora\r\n    </p>\r\n    <p\r\n      class=\"header__element__dropdown__item\"\r\n      (click)=\"uploadFileInput.click()\"\r\n    >\r\n      Abrir template\r\n    </p>\r\n  </div>\r\n  <div\r\n    class=\"header__element header__element--file\"\r\n    (click)=\"fileDropDownToggle()\"\r\n  >\r\n    <label>Archivo</label>\r\n  </div>\r\n  <div class=\"header__element header__element--title\">\r\n    {{docxFile.name}}\r\n  </div>\r\n  <div class=\"header__element\" *ngIf=\"docxFile.lastModifiedDate\">\r\n    <!-- date with hour -->\r\n    \u00DAltima modificaci\u00F3n: {{docxFile.lastModifiedDate | date: 'dd/MM/yyyy HH:mm'}}\r\n  </div>\r\n</div>\r\n", styles: [".invisible{visibility:hidden;display:none}.header{top:0px!important;height:var(--header-height);width:100%;box-shadow:0 2px 4px #0003;z-index:10000;background-color:var(--elements-color);display:flex;flex-direction:row;position:relative}.header__element{border-right:1px solid #888;border-top:1px solid #888;padding:10px;display:flex;justify-content:center;align-items:center}.header__element:hover{background-color:#f0f0f0}.header__element--file{-webkit-user-select:none;user-select:none;width:150px}.header__element--title{flex-grow:1}.header__element__dropdown{position:absolute;display:flex;flex-direction:column;width:200px;background-color:#fff;margin-top:var(--header-height);z-index:10001;border:1px solid #888}.header__element__dropdown__item{margin:0;padding:10px;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer}.header__element__dropdown__item:hover{background-color:#f0f0f0}.header__element__dropdown__item--inactive{color:#0005}.header__element__dropdown__item--inactive{background-color:#fff!important;cursor:default}\n", "*{box-sizing:border-box!important}.invisible{visibility:hidden;display:none}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#8888}::-webkit-scrollbar-thumb:hover{background:#555}\n"] }]
        }], propDecorators: { workspace: [{
                type: Input
            }], docxFile: [{
                type: Input
            }], history: [{
                type: Input
            }], uploadFileInput: [{
                type: Input
            }], editablePhrases: [{
                type: Input
            }], fileChange: [{
                type: Output
            }], docxFileChanged: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hcHAvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hcHAvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHdkUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sa0RBQWtELENBQUM7OztBQVF4RixNQUFNLE9BQU8sZUFBZTtJQUw1QjtRQVdZLGVBQVUsR0FBNkIsSUFBSSxZQUFZLEVBQWMsQ0FBQztRQUN0RSxvQkFBZSxHQUEyQixJQUFJLFlBQVksRUFBWSxDQUFDO0tBd0RsRjtJQXREUSxtQkFBbUIsQ0FBQyxDQUFRO1FBQ2pDLE1BQU0sS0FBSyxHQUFHLENBQWUsQ0FBQztRQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRU0sSUFBSTtRQUNULElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRTtZQUMxQixPQUFPO1NBQ1I7UUFDRCxvQkFBb0IsQ0FBQztZQUNuQixlQUFlLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLGVBQWU7WUFDMUUsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTztTQUM5QixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDbEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUM7Z0JBQ3hCLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUk7Z0JBQ3hCLE9BQU8sRUFBRSxPQUFPO2dCQUNoQixnQkFBZ0IsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRTthQUN2QyxDQUFDLENBQUE7UUFDSixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFTSxjQUFjO1FBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRTtZQUMxQixPQUFPO1NBQ1I7UUFDRCxvQkFBb0IsQ0FBQztZQUNuQixlQUFlLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLGVBQWU7WUFDMUUsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTztTQUM5QixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDbEIsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN6QyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ2hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7WUFDbkMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2IsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2QsR0FBRyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QiwyQ0FBMkM7WUFDM0MseUJBQXlCO1lBQ3pCLE1BQU07UUFDUixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFTSxrQkFBa0I7UUFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ25DLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztRQUNuQixNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFO1lBQ3pCLFVBQVUsRUFBRSxDQUFDO1lBQ2IsSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFFO2dCQUNsQixJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7Z0JBQ3BDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO2FBQ3ZCO1FBQ0gsQ0FBQyxDQUFDO1FBQ0YsTUFBTSxDQUFDLE9BQU8sR0FBRyxZQUFZLENBQUM7SUFDaEMsQ0FBQzs7NEdBOURVLGVBQWU7Z0dBQWYsZUFBZSx3VUNYNUIsbTNDQThDQTsyRkRuQ2EsZUFBZTtrQkFMM0IsU0FBUzsrQkFDRSxpRUFBaUU7OEJBS2xFLFNBQVM7c0JBQWpCLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxPQUFPO3NCQUFmLEtBQUs7Z0JBQ0csZUFBZTtzQkFBdkIsS0FBSztnQkFDRyxlQUFlO3NCQUF2QixLQUFLO2dCQUNJLFVBQVU7c0JBQW5CLE1BQU07Z0JBQ0csZUFBZTtzQkFBeEIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHsgRG9jeEZpbGUsIEhpc3RvcnksIFdvcmtTcGFjZSB9IGZyb20gXCIuLi8uLi8uLi9hcHAvaW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgeyBkb2N4VG9TdHJpbmcgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvZG9jeFBhcnNlcnMvZG9jeFRvU3RyaW5nXCI7XHJcbmltcG9ydCB7IGVkaXRhYmxlT2JqZWN0VG9Eb2N4IH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2RvY3hQYXJzZXJzL2VkaXRhYmxlT2JqZWN0c1RvRG9jeFwiO1xyXG5pbXBvcnQgeyBFZGl0YWJsZVBocmFzZSB9IGZyb20gXCIuLi8uLi8uLi91dGlscy9kb2N4UGFyc2Vycy90eXBlc1wiO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6IFwiYXBwLWhlYWRlcltoaXN0b3J5XVtkb2N4RmlsZV1bdXBsb2FkRmlsZUlucHV0XVtlZGl0YWJsZVBocmFzZXNdXCIsXHJcbiAgdGVtcGxhdGVVcmw6IFwiLi9oZWFkZXIuY29tcG9uZW50Lmh0bWxcIixcclxuICBzdHlsZVVybHM6IFtcIi4vaGVhZGVyLmNvbXBvbmVudC5sZXNzXCIsIFwiLi4vLi4vc2hhcmVkL3N0eWxlcy9jb21tb25TdHlsZXMubGVzc1wiXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIEhlYWRlckNvbXBvbmVudCB7XHJcbiAgQElucHV0KCkgd29ya3NwYWNlOiBXb3JrU3BhY2U7XHJcbiAgQElucHV0KCkgZG9jeEZpbGU6IERvY3hGaWxlO1xyXG4gIEBJbnB1dCgpIGhpc3Rvcnk6IEhpc3RvcnlbXTtcclxuICBASW5wdXQoKSB1cGxvYWRGaWxlSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgQElucHV0KCkgZWRpdGFibGVQaHJhc2VzOiBFZGl0YWJsZVBocmFzZVtdO1xyXG4gIEBPdXRwdXQoKSBmaWxlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8SW5wdXRFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPElucHV0RXZlbnQ+KCk7XHJcbiAgQE91dHB1dCgpIGRvY3hGaWxlQ2hhbmdlZDogRXZlbnRFbWl0dGVyPERvY3hGaWxlPiA9IG5ldyBFdmVudEVtaXR0ZXI8RG9jeEZpbGU+KCk7XHJcblxyXG4gIHB1YmxpYyBvbkZpbGVDaGFuZ2VIYW5kbGVyKGU6IEV2ZW50KSB7XHJcbiAgICBjb25zdCBldmVudCA9IGUgYXMgSW5wdXRFdmVudDtcclxuICAgIHRoaXMuZmlsZUNoYW5nZS5lbWl0KGV2ZW50KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzYXZlKCkge1xyXG4gICAgaWYgKCF0aGlzLmRvY3hGaWxlLmNvbnRlbnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZWRpdGFibGVPYmplY3RUb0RvY3goe1xyXG4gICAgICBtb2RpZmllZE9iamVjdHM6IHRoaXMuaGlzdG9yeVt0aGlzLndvcmtzcGFjZS5oaXN0b3J5SW5kZXhdLmVkaXRhYmxlUGhyYXNlcyxcclxuICAgICAgZmlsZUluOiB0aGlzLmRvY3hGaWxlLmNvbnRlbnQsXHJcbiAgICB9KS50aGVuKChuZXdEb2N4KSA9PiB7XHJcbiAgICAgIHRoaXMuZG9jeEZpbGVDaGFuZ2VkLmVtaXQoe1xyXG4gICAgICAgIG5hbWU6IHRoaXMuZG9jeEZpbGUubmFtZSxcclxuICAgICAgICBjb250ZW50OiBuZXdEb2N4LFxyXG4gICAgICAgIGxhc3RNb2RpZmllZERhdGU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2F2ZVRvQ29tcHV0ZXIoKSB7XHJcbiAgICBpZiAoIXRoaXMuZG9jeEZpbGUuY29udGVudCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlZGl0YWJsZU9iamVjdFRvRG9jeCh7XHJcbiAgICAgIG1vZGlmaWVkT2JqZWN0czogdGhpcy5oaXN0b3J5W3RoaXMud29ya3NwYWNlLmhpc3RvcnlJbmRleF0uZWRpdGFibGVQaHJhc2VzLFxyXG4gICAgICBmaWxlSW46IHRoaXMuZG9jeEZpbGUuY29udGVudCxcclxuICAgIH0pLnRoZW4oKG5ld0RvY3gpID0+IHtcclxuICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXdEb2N4KTtcclxuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICBsaW5rLmhyZWYgPSB1cmw7XHJcbiAgICAgIGxpbmsuZG93bmxvYWQgPSB0aGlzLmRvY3hGaWxlLm5hbWU7XHJcbiAgICAgIGxpbmsuY2xpY2soKTtcclxuICAgICAgbGluay5yZW1vdmUoKTtcclxuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgICAvLyBkb2N4VG9TdHJpbmcobmV3RG9jeCkudGhlbigoc3RyaW5nKSA9PiB7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coc3RyaW5nKTtcclxuICAgICAgLy8gfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBmaWxlRHJvcERvd25Ub2dnbGUoKSB7XHJcbiAgICB0aGlzLndvcmtzcGFjZS5maWxlRHJvcERvd24gPSB0cnVlO1xyXG4gICAgbGV0IGNsaWNrQ291bnQgPSAwO1xyXG4gICAgY29uc3QgcXVpdERyb3BEb3duID0gKGUpID0+IHtcclxuICAgICAgY2xpY2tDb3VudCsrO1xyXG4gICAgICBpZiAoY2xpY2tDb3VudCA+IDEpIHtcclxuICAgICAgICB0aGlzLndvcmtzcGFjZS5maWxlRHJvcERvd24gPSBmYWxzZTtcclxuICAgICAgICB3aW5kb3cub25jbGljayA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB3aW5kb3cub25jbGljayA9IHF1aXREcm9wRG93bjtcclxuICB9XHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cImhlYWRlclwiPlxyXG4gIDxpbnB1dFxyXG4gICAgI3VwbG9hZEZpbGVJbnB1dFxyXG4gICAgKGNoYW5nZSk9XCJvbkZpbGVDaGFuZ2VIYW5kbGVyKCRldmVudClcIlxyXG4gICAgY2xhc3M9XCJpbnZpc2libGVcIlxyXG4gICAgdHlwZT1cImZpbGVcIlxyXG4gICAgaWQ9XCJ0ZW1wbGF0ZVwiXHJcbiAgICBuYW1lPVwidGVtcGxhdGVcIlxyXG4gICAgYWNjZXB0PVwiLmRvY3hcIlxyXG4gIC8+XHJcbiAgPGRpdiAqbmdJZj1cIndvcmtzcGFjZS5maWxlRHJvcERvd25cIiBjbGFzcz1cImhlYWRlcl9fZWxlbWVudF9fZHJvcGRvd25cIj5cclxuICAgIDxwXHJcbiAgICAgIGNsYXNzPVwiaGVhZGVyX19lbGVtZW50X19kcm9wZG93bl9faXRlbVwiXHJcbiAgICAgIFtjbGFzcy5oZWFkZXJfX2VsZW1lbnRfX2Ryb3Bkb3duX19pdGVtLS1pbmFjdGl2ZV09XCIhZG9jeEZpbGUuY29udGVudFwiXHJcbiAgICAgIChjbGljayk9XCJzYXZlKClcIlxyXG4gICAgPlxyXG4gICAgICBHdWFyZGFyXHJcbiAgICA8L3A+XHJcbiAgICA8cFxyXG4gICAgICBjbGFzcz1cImhlYWRlcl9fZWxlbWVudF9fZHJvcGRvd25fX2l0ZW1cIlxyXG4gICAgICBbY2xhc3MuaGVhZGVyX19lbGVtZW50X19kcm9wZG93bl9faXRlbS0taW5hY3RpdmVdPVwiIWRvY3hGaWxlLmNvbnRlbnRcIlxyXG4gICAgICAoY2xpY2spPVwic2F2ZVRvQ29tcHV0ZXIoKVwiXHJcbiAgICA+XHJcbiAgICAgIEd1YXJkYXIgYSBjb21wdXRhZG9yYVxyXG4gICAgPC9wPlxyXG4gICAgPHBcclxuICAgICAgY2xhc3M9XCJoZWFkZXJfX2VsZW1lbnRfX2Ryb3Bkb3duX19pdGVtXCJcclxuICAgICAgKGNsaWNrKT1cInVwbG9hZEZpbGVJbnB1dC5jbGljaygpXCJcclxuICAgID5cclxuICAgICAgQWJyaXIgdGVtcGxhdGVcclxuICAgIDwvcD5cclxuICA8L2Rpdj5cclxuICA8ZGl2XHJcbiAgICBjbGFzcz1cImhlYWRlcl9fZWxlbWVudCBoZWFkZXJfX2VsZW1lbnQtLWZpbGVcIlxyXG4gICAgKGNsaWNrKT1cImZpbGVEcm9wRG93blRvZ2dsZSgpXCJcclxuICA+XHJcbiAgICA8bGFiZWw+QXJjaGl2bzwvbGFiZWw+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cImhlYWRlcl9fZWxlbWVudCBoZWFkZXJfX2VsZW1lbnQtLXRpdGxlXCI+XHJcbiAgICB7e2RvY3hGaWxlLm5hbWV9fVxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJoZWFkZXJfX2VsZW1lbnRcIiAqbmdJZj1cImRvY3hGaWxlLmxhc3RNb2RpZmllZERhdGVcIj5cclxuICAgIDwhLS0gZGF0ZSB3aXRoIGhvdXIgLS0+XHJcbiAgICDDmmx0aW1hIG1vZGlmaWNhY2nDs246IHt7ZG9jeEZpbGUubGFzdE1vZGlmaWVkRGF0ZSB8IGRhdGU6ICdkZC9NTS95eXl5IEhIOm1tJ319XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4iXX0=